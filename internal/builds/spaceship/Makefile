# DO NOT EDIT. Generated by internal/gen/builds/generator.go.

# Set fallbackVersion to work around https://github.com/golang/go/issues/29228.
TAG_NAME := $(shell git tag -l --contains HEAD)
COMMIT := $(shell git rev-parse HEAD)

EXE := $(if $(filter $(shell go env GOOS),windows),.exe,)

.PHONY: build
build:
	CGO_ENABLED=0 \
	GO111MODULE=on \
	go build -ldflags '-w -s -X "main.version=${TAG_NAME}" -X "main.commit=${COMMIT}"' \
		-trimpath \
		-tags=nobadger,nomysql,nopgx \
		-o "../../../dist/dns01proxy-spaceship$(EXE)" \
		.
